{"version":3,"file":"timeline.esm.js","sources":["../node_modules/react-scenejs-timeline/dist/timeline.esm.js","../src/preact-timeline/Timeline.tsx"],"sourcesContent":["/*\nCopyright (c) 2019 Daybrush\nname: react-scenejs-timeline\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/scenejs-timeline.git\nversion: 0.1.4\n*/\nimport { PureComponent, createElement, Component } from 'react';\nimport { hasClass as hasClass$1, isObject, findIndex, addEvent, isUndefined, now, find } from '@daybrush/utils';\nimport { findDOMNode } from 'react-dom';\nimport KeyController from 'keycon';\nimport { drag } from '@daybrush/drag';\nimport Axes, { PinchInput } from '@egjs/axes';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n  };\n\n  return extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\nfunction __rest(s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  return t;\n}\n\nvar PREFIX = \"scenejs-editor-\";\nvar SUPPORT_POINTER_EVENTS = \"PointerEvent\" in window || \"MSPointerEvent\" in window;\nvar SUPPORT_TOUCH = \"ontouchstart\" in window;\nvar CSS2 = \"\\n.item-info {\\n    position: fixed;\\n    right: 0;\\n    top: 0;\\n    width: 200px;\\n    background: #000;\\n}\\n.options-area {\\n\\n}\\n.option-area {\\n    position: relative;\\n    border-bottom: 1px solid #777;\\n    box-sizing: border-box;\\n    white-space: nowrap;\\n    background: rgba(90, 90, 90, 0.7);\\n    font-size: 13px;\\n    font-weight: bold;\\n    color: #eee;\\n    display: flex;\\n}\\n.option-name, .option-value {\\n    width: 50%;\\n    height: 30px;\\n    line-height: 20px;\\n    box-sizing: border-box;\\n    padding: 5px;\\n}\\n.option-name {\\n    border-right: 1px solid #999;\\n}\\n.option-value input {\\n    appearance: none;\\n    -webkit-appearance: none;\\n    outline: none;\\n    position: relative;\\n    display: block;\\n    width: 100%;\\n    height: 100%;\\n    background: transparent;\\n    color: #4af;\\n    font-weight: bold;\\n    background: none;\\n    border: 0;\\n    box-sizing: border-box;\\n}\\n\".replace(/\\.([^{,\\s\\d.]+)/g, \".\" + PREFIX + \"$1\");\nvar CSS = \"\\n.timeline * {\\n    box-sizing: border-box;\\n}\\n.timeline {\\n  position: fixed;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  width: 100%;\\n  font-size: 0;\\n  background: #000;\\n  display: flex;\\n  flex-direction: column;\\n}\\n.header-area, .scroll-area {\\n   width: 100%;\\n   position: relative;\\n  display: flex;\\n  -webkit-align-items: flex-start;\\n  align-items: flex-start;\\n}\\n.header-area {\\n  position: relative;\\n  z-index: 10;\\n  top: 0;\\n  height: 30px;\\n  min-height: 30px;\\n}\\n.header-area .keyframes {\\n  padding: 0px;\\n}\\n.header-area .properties-area,\\n.header-area .keyframes-area,\\n.header-area .values-area,\\n.header-area .keyframes-scroll-area {\\n    height: 100%;\\n}\\n.header-area .keyframes-scroll-area {\\n    overflow: hidden;\\n}\\n.header-area .property, .header-area .value, .header-area .keyframes {\\n  height: 100%;\\n}\\n.header-area .property {\\n    line-height: 30px;\\n}\\n.value .add {\\n    text-align: center;\\n    color: #fff;\\n    line-height: 30px;\\n    font-weight: bold;\\n    font-size: 20px;\\n    cursor: pointer;\\n}\\n.header-area .keyframes-area::-webkit-scrollbar {\\n    display: none; // Safari and Chrome\\n}\\n.header-area .keyframe-cursor {\\n    position: absolute;\\n    border-top: 10px solid #4af;\\n    border-left: 6px solid transparent;\\n    border-right: 6px solid transparent;\\n    width: 0;\\n    height: 0;\\n    bottom: 0;\\n    top: auto;\\n    background: none;\\n    cursor: pointer;\\n}\\n.control-area .keyframes {\\n    padding-left: 10px;\\n}\\n.play-control-area {\\n    position: absolute;\\n    top: 50%;\\n    left: 50%;\\n    transform: translate(-50%, -50%);\\n}\\n.play-control-area .control {\\n    position: relative;\\n    display: inline-block;\\n    vertical-align: middle;\\n    color: white;\\n    margin: 0px 15px;\\n    cursor: pointer;\\n}\\n.play {\\n    border-left: 14px solid white;\\n    border-top: 8px solid transparent;\\n    border-bottom: 8px solid transparent;\\n}\\n.pause {\\n    border-left: 4px solid #fff;\\n    border-right: 4px solid #fff;\\n    width: 14px;\\n    height: 16px;\\n}\\n.prev {\\n    border-right: 10px solid white;\\n    border-top: 6px solid transparent;\\n    border-bottom: 6px solid transparent;\\n}\\n.prev:before {\\n    position: absolute;\\n    content: \\\"\\\";\\n    width: 3px;\\n    height: 10px;\\n    top: 0;\\n    right: 100%;\\n    transform: translate(0, -50%);\\n    background: white;\\n}\\n.next {\\n    border-left: 10px solid white;\\n    border-top: 6px solid transparent;\\n    border-bottom: 6px solid transparent;\\n}\\n.next:before {\\n    position: absolute;\\n    content: \\\"\\\";\\n    width: 3px;\\n    height: 10px;\\n    top: 0;\\n    transform: translate(0, -50%);\\n    background: white;\\n}\\n.keytime {\\n  position: relative;\\n  display: inline-block;\\n  height: 100%;\\n  font-size: 13px;\\n  font-weight: bold;\\n  color: #777;\\n}\\n.keytime:last-child {\\n  max-width: 0px;\\n}\\n.keytime span {\\n  position: absolute;\\n  line-height: 1;\\n  bottom: 12px;\\n  display: inline-block;\\n  transform: translate(-50%);\\n  color: #eee;\\n}\\n.keytime .graduation {\\n  position: absolute;\\n  bottom: 0;\\n  width: 1px;\\n  height: 10px;\\n  background: #777;\\n  transform: translate(-50%);\\n}\\n.keytime .graduation.half {\\n  left: 50%;\\n  height: 7px;\\n}\\n.keytime .graduation.quarter {\\n  left: 25%;\\n  height: 5px;\\n}\\n.keytime .graduation.quarter3 {\\n  left: 75%;\\n  height: 5px;\\n}\\n.scroll-area {\\n  position: relative;\\n  width: 100%;\\n  height: calc(100% - 60px);\\n  overflow: auto;\\n}\\n.properties-area, .keyframes-area, .values-area {\\n  display: inline-block;\\n  position: relative;\\n  font-size: 16px;\\n  overflow: auto;\\n}\\n\\n.properties-area::-webkit-scrollbar, .keyframes-area::-webkit-scrollbar {\\n    display: none; // Safari and Chrome\\n}\\n.properties-area {\\n  width: 30%;\\n  max-width: 200px;\\n  box-sizing: border-box;\\n}\\n.values-area {\\n    width: 50px;\\n    min-width: 50px;\\n    display: inline-block;\\n    border-right: 1px solid #999;\\n    box-sizing: border-box;\\n}\\n.value input {\\n    appearance: none;\\n    -webkit-appearance: none;\\n    outline: none;\\n    position: relative;\\n    display: block;\\n    width: 100%;\\n    height: 100%;\\n    background: transparent;\\n    color: #4af;\\n    font-weight: bold;\\n    background: none;\\n    border: 0;\\n    box-sizing: border-box;\\n    text-align: center;\\n}\\n.value {\\n\\n}\\n.alt .value input {\\n    cursor: ew-resize;\\n}\\n.value[data-object=\\\"1\\\"] input {\\n    display: none;\\n}\\n.properties-scroll-area {\\n  display: inline-block;\\n  min-width: 100%;\\n}\\n.keyframes-area {\\n  flex: 1;\\n}\\n.keyframes-scroll-area {\\n  position: relative;\\n  min-width: 300px;\\n}\\n.keyframes, .property, .value {\\n  position: relative;\\n  height: 30px;\\n  line-height: 30px;\\n  border-bottom: 1px solid #777;\\n  box-sizing: border-box;\\n  white-space: nowrap;\\n  background: rgba(90, 90, 90, 0.7);\\n  z-index: 1;\\n}\\n\\n.property {\\n  padding-left: 10px;\\n  box-sizing: border-box;\\n  font-size: 13px;\\n  font-weight: bold;\\n  color: #eee;\\n}\\n.property .remove {\\n    position: absolute;\\n    display: inline-block;\\n    cursor: pointer;\\n    width: 18px;\\n    height: 18px;\\n    top: 0;\\n    bottom: 0;\\n    right: 10px;\\n    margin: auto;\\n    border-radius: 50%;\\n    border: 2px solid #fff;\\n    vertical-align: middle;\\n    display: none;\\n    margin-left: 10px;\\n    box-sizing: border-box;\\n}\\n.property .remove:before, .property .remove:after {\\n    position: absolute;\\n    content: \\\"\\\";\\n    width: 8px;\\n    height: 2px;\\n    border-radius: 1px;\\n    background: #fff;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n    margin: auto;\\n}\\n.property .remove:before {\\n    transform: rotate(45deg);\\n}\\n.property .remove:after {\\n    transform: rotate(-45deg);\\n}\\n.property:hover .remove {\\n    display: inline-block;\\n}\\n\\n[data-item=\\\"1\\\"], [data-item=\\\"1\\\"] .add {\\n    height: 30px;\\n    line-height: 30px;\\n}\\n.time-area {\\n    position: absolute;\\n    top: 0;\\n    left: 10px;\\n    font-size: 13px;\\n    color: #4af;\\n    line-height: 30px;\\n    font-weight: bold;\\n    height: 100%;\\n    line-height: 30px;\\n    border: 0;\\n    background: transparent;\\n    outline: 0;\\n}\\n.time-area:after {\\n    content: \\\"s\\\";\\n}\\n.property .arrow {\\n    position: relative;\\n    display: inline-block;\\n    width: 20px;\\n    height: 25px;\\n    cursor: pointer;\\n    vertical-align: middle;\\n}\\n.property .arrow:after {\\n    content: \\\"\\\";\\n    position: absolute;\\n    top: 0;\\n    right: 0;\\n    left: 0;\\n    bottom: 0;\\n    margin: auto;\\n    width: 0;\\n    height: 0;\\n    border-top: 6px solid #eee;\\n    border-left: 4px solid transparent;\\n    border-right: 4px solid transparent;\\n}\\n.property[data-fold=\\\"1\\\"] .arrow:after {\\n    border-top: 4px solid transparent;\\n    border-bottom: 4px solid transparent;\\n    border-right: 0;\\n    border-left: 6px solid #eee;\\n}\\n.property[data-object=\\\"0\\\"] .arrow {\\n    display: none;\\n}\\n.property.fold, .keyframes.fold, .value.fold {\\n    display: none;\\n}\\n.property.select, .value.select, .keyframes.select {\\n    background: rgba(120, 120, 120, 0.7);\\n}\\n.keyframes {\\n\\n}\\n.keyframe-delay {\\n  position: absolute;\\n  top: 3px;\\n  bottom: 3px;\\n  left: 0;\\n  background: #4af;\\n  opacity: 0.2;\\n  z-index: 0;\\n}\\n.keyframe-group {\\n    position: absolute;\\n    top: 3px;\\n    bottom: 3px;\\n    left: 0;\\n    background: #4af;\\n    opacity: 0.6;\\n    border: 1px solid rgba(0, 0, 0, 0.2);\\n    border-left-color: rgba(255, 255, 255, 0.2);\\n    border-top-color: rgba(255, 255, 255, 0.2);\\n    z-index: 0;\\n}\\n.keyframe-line {\\n  position: absolute;\\n  height: 8px;\\n  top: 0;\\n  bottom: 0;\\n  margin: auto;\\n  background: #666;\\n  z-index: 0;\\n}\\n.keyframe {\\n  position: absolute;\\n  font-size: 0px;\\n  width: 12px;\\n  height: 12px;\\n  top: 0px;\\n  bottom: 0px;\\n  margin: auto;\\n  background: #fff;\\n  border: 2px solid #383838;\\n  border-radius: 2px;\\n  box-sizing: border-box;\\n  transform: translate(-50%) rotate(45deg);\\n  z-index: 1;\\n  cursor: pointer;\\n}\\n.keyframe[data-no=\\\"1\\\"] {\\n    opacity: 0.2;\\n}\\n.select .keyframe {\\n    border-color: #555;\\n}\\n.keyframe.select {\\n    background: #4af;\\n}\\n.keyframes-container, .line-area {\\n  position: relative;\\n  width: calc(100% - 30px);\\n  left: 15px;\\n  height: 100%;\\n}\\n.line-area {\\n  position: absolute;\\n  top: 0;\\n  z-index: 0;\\n}\\n.keyframe-cursor {\\n  position: absolute;\\n  top: 0;\\n  z-index: 1;\\n  background: #4af;\\n  width: 1px;\\n  height: 100%;\\n  left: 15px;\\n  transform: translate(-50%);\\n}\\n.scroll-aare .keyframe-cursor {\\n  pointer-events: none;\\n}\\n.division-line {\\n  position: absolute;\\n  background: #333;\\n  width: 1px;\\n  height: 100%;\\n  transform: translate(-50%);\\n}\\n\".replace(/\\.([^{,\\s\\d.]+)/g, \".\" + PREFIX + \"$1\");\nvar DIRECTION = \"direction\";\nvar ITERATION_COUNT = \"iterationCount\";\nvar DELAY = \"delay\";\nvar PLAY_SPEED = \"playSpeed\";\nvar ALTERNATE = \"alternate\";\nvar REVERSE = \"reverse\";\nvar ALTERNATE_REVERSE = \"alternate-reverse\";\n\nfunction numberFormat(num, count, isRight) {\n  var length = (\"\" + num).length;\n  var arr = [];\n\n  if (isRight) {\n    arr.push(num);\n  }\n\n  for (var i = length; i < count; ++i) {\n    arr.push(0);\n  }\n\n  if (!isRight) {\n    arr.push(num);\n  }\n\n  return arr.join(\"\");\n}\nfunction keys(value) {\n  var arr = [];\n\n  for (var name in value) {\n    arr.push(name);\n  }\n\n  return arr;\n}\nfunction toValue(value) {\n  if (isObject(value)) {\n    if (Array.isArray(value)) {\n      return \"[\" + value.join(\", \") + \"]\";\n    }\n\n    return \"{\" + keys(value).map(function (k) {\n      return k + \": \" + toValue(value[k]);\n    }).join(\", \") + \"}\";\n  }\n\n  return value;\n}\nfunction flatObject(obj, newObj) {\n  if (newObj === void 0) {\n    newObj = {};\n  }\n\n  for (var name in obj) {\n    var value = obj[name];\n\n    if (isObject(value)) {\n      var nextObj = flatObject(isFrame(value) ? value.get() : value);\n\n      for (var nextName in nextObj) {\n        newObj[name + \"///\" + nextName] = nextObj[nextName];\n      }\n    } else {\n      newObj[name] = value;\n    }\n  }\n\n  return newObj;\n}\nfunction getTarget(target, conditionCallback) {\n  var parentTarget = target;\n\n  while (parentTarget && parentTarget !== document.body) {\n    if (conditionCallback(parentTarget)) {\n      return parentTarget;\n    }\n\n    parentTarget = parentTarget.parentNode;\n  }\n\n  return null;\n}\nfunction hasClass(target, className) {\n  return hasClass$1(target, \"\" + PREFIX + className);\n}\nfunction isScene(value) {\n  return !!value.constructor.prototype.getItem;\n}\nfunction isFrame(value) {\n  return !!value.constructor.prototype.toCSS;\n}\nfunction findElementIndexByPosition(elements, pos) {\n  return findIndex(elements, function (el) {\n    var box = el.getBoundingClientRect();\n    var top = box.top;\n    var bottom = top + box.height;\n    return top <= pos && pos < bottom;\n  });\n}\nfunction prefix(className) {\n  return className.split(\" \").map(function (name) {\n    return \"\" + PREFIX + name;\n  }).join(\" \");\n}\nfunction ref(target, name) {\n  return function (e) {\n    e && (target[name] = e);\n  };\n}\nfunction refs(target, name, i) {\n  return function (e) {\n    e && (target[name][i] = e);\n  };\n}\nfunction checkFolded(foldedInfo, names) {\n  var index = findIndex(names, function (name, i) {\n    return foldedInfo[names.slice(0, i + 1).join(\"///\") + \"///\"];\n  });\n\n  if (index > -1) {\n    if (index === names.length - 1) {\n      return 2;\n    }\n\n    return 1;\n  } else {\n    return 0;\n  }\n}\nfunction fold(target, foldedProperty, isNotUpdate) {\n  var id = foldedProperty + \"///\";\n  var foldedInfo = target.state.foldedInfo;\n  foldedInfo[id] = !foldedInfo[id]; // console.log(foldedInfo);\n\n  if (!isNotUpdate) {\n    target.setState({\n      foldedInfo: __assign({}, foldedInfo)\n    });\n  }\n}\n\nvar ElementComponent =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(ElementComponent, _super);\n\n  function ElementComponent() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  var __proto = ElementComponent.prototype;\n\n  __proto.getElement = function () {\n    return this.element || (this.element = findDOMNode(this));\n  };\n\n  return ElementComponent;\n}(PureComponent);\n\nvar TimeArea =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(TimeArea, _super);\n\n  function TimeArea() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  var __proto = TimeArea.prototype;\n\n  __proto.render = function () {\n    return createElement(\"input\", {\n      className: prefix(\"time-area\")\n    });\n  };\n\n  __proto.componentDidMount = function () {\n    var _this = this;\n\n    new KeyController(this.getElement()).keydown(function (e) {\n      !e.isToggle && e.inputEvent.stopPropagation();\n    }).keyup(function (e) {\n      !e.isToggle && e.inputEvent.stopPropagation();\n    }).keyup(\"enter\", function (e) {\n      // go to time\n      var value = _this.getElement().value;\n\n      var result = /(\\d+):(\\d+):(\\d+)/g.exec(value);\n\n      if (!result) {\n        return;\n      }\n\n      var minute = parseFloat(result[1]);\n      var second = parseFloat(result[2]);\n      var milisecond = parseFloat(\"0.\" + result[3]);\n      var time = minute * 60 + second + milisecond;\n\n      _this.props.setTime(time);\n    });\n  };\n\n  return TimeArea;\n}(ElementComponent);\n\nvar ControlArea =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(ControlArea, _super);\n\n  function ControlArea() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      isPlay: false\n    };\n\n    _this.play = function () {\n      _this.setState({\n        isPlay: true\n      });\n    };\n\n    _this.pause = function () {\n      _this.setState({\n        isPlay: false\n      });\n    };\n\n    _this.unselect = function () {\n      _this.props.select(\"\", -1);\n    };\n\n    return _this;\n  }\n\n  var __proto = ControlArea.prototype;\n\n  __proto.render = function () {\n    return createElement(\"div\", {\n      className: prefix(\"control-area header-area\")\n    }, createElement(\"div\", {\n      className: prefix(\"properties-area\"),\n      onClick: this.unselect\n    }, createElement(\"div\", {\n      className: prefix(\"property\")\n    })), createElement(\"div\", {\n      className: prefix(\"values-area\")\n    }, createElement(\"div\", {\n      className: prefix(\"value\")\n    })), createElement(\"div\", {\n      className: prefix(\"keyframes-area\")\n    }, createElement(\"div\", {\n      className: prefix(\"keyframes\")\n    }, createElement(TimeArea, {\n      ref: ref(this, \"timeArea\"),\n      setTime: this.props.setTime\n    }), createElement(\"div\", {\n      className: prefix(\"play-control-area\")\n    }, createElement(\"div\", {\n      className: prefix(\"control prev\"),\n      onClick: this.props.prev\n    }), createElement(\"div\", {\n      className: prefix(\"control \" + (this.state.isPlay ? \"pause\" : \"play\")),\n      onClick: this.props.togglePlay\n    }), createElement(\"div\", {\n      className: prefix(\"control next\"),\n      onClick: this.props.next\n    })))));\n  };\n\n  __proto.componentDidMount = function () {\n    this.initScene(this.props.scene);\n  };\n\n  __proto.componentDidUpdate = function (prevProps) {\n    if (prevProps.scene !== this.props.scene) {\n      this.initScene(this.props.scene);\n      this.releaseScene(prevProps.scene);\n    }\n  };\n\n  __proto.componentWillUnmount = function () {\n    this.releaseScene(this.props.scene);\n  };\n\n  __proto.initScene = function (scene) {\n    if (!scene) {\n      return;\n    }\n\n    scene.on({\n      play: this.play,\n      paused: this.pause\n    });\n  };\n\n  __proto.releaseScene = function (scene) {\n    if (!scene) {\n      return;\n    }\n\n    scene.off(\"play\", this.play);\n    scene.off(\"paused\", this.pause);\n  };\n\n  return ControlArea;\n}(ElementComponent);\n\nvar KeyframeCursor =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(KeyframeCursor, _super);\n\n  function KeyframeCursor() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  var __proto = KeyframeCursor.prototype;\n\n  __proto.render = function () {\n    return createElement(\"div\", {\n      className: prefix(\"keyframe-cursor\"),\n      ref: ref(this, \"cursor\")\n    });\n  };\n\n  return KeyframeCursor;\n}(ElementComponent);\n\nvar KeytimesArea =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(KeytimesArea, _super);\n\n  function KeytimesArea() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  var __proto = KeytimesArea.prototype;\n\n  __proto.renderKeytimes = function () {\n    var maxTime = this.props.maxTime;\n    var keytimes = [];\n\n    for (var time = 0; time <= maxTime; ++time) {\n      keytimes.push(createElement(\"div\", {\n        key: time,\n        \"data-time\": time,\n        className: prefix(\"keytime\"),\n        style: {\n          width: 100 / maxTime + \"%\"\n        }\n      }, createElement(\"span\", null, time), createElement(\"div\", {\n        className: prefix(\"graduation start\")\n      }), createElement(\"div\", {\n        className: prefix(\"graduation quarter\")\n      }), createElement(\"div\", {\n        className: prefix(\"graduation half\")\n      }), createElement(\"div\", {\n        className: prefix(\"graduation quarter3\")\n      })));\n    }\n\n    return keytimes;\n  };\n\n  __proto.render = function () {\n    var _a = this.props,\n        maxTime = _a.maxTime,\n        maxDuration = _a.maxDuration,\n        zoom = _a.zoom;\n    return createElement(\"div\", {\n      className: prefix(\"keytimes-area keyframes-area\")\n    }, createElement(\"div\", {\n      className: prefix(\"keyframes-scroll-area\"),\n      ref: ref(this, \"scrollAreaElement\"),\n      style: {\n        minWidth: 50 * maxTime + \"px\",\n        width: Math.min(maxDuration ? maxTime / maxDuration : 1, 2) * zoom * 100 + \"%\"\n      }\n    }, createElement(\"div\", {\n      className: prefix(\"keytimes keyframes\")\n    }, createElement(\"div\", {\n      className: prefix(\"keyframes-container\")\n    }, this.renderKeytimes()), createElement(KeyframeCursor, {\n      ref: ref(this, \"cursor\")\n    }))));\n  };\n\n  __proto.componentDidMount = function () {\n    var _this = this;\n\n    addEvent(this.getElement(), \"wheel\", function (e) {\n      var delta = e.deltaY;\n\n      _this.props.axes.setBy({\n        zoom: delta / 5000\n      });\n\n      !e.deltaX && e.preventDefault();\n    });\n    drag(this.cursor.getElement(), {\n      dragstart: function (_a) {\n        var inputEvent = _a.inputEvent;\n        inputEvent.stopPropagation();\n      },\n      drag: function (_a) {\n        var clientX = _a.clientX;\n\n        _this.props.move(clientX);\n      },\n      container: window\n    });\n  };\n\n  return KeytimesArea;\n}(ElementComponent);\n\nvar HeaderArea =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(HeaderArea, _super);\n\n  function HeaderArea() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.add = function () {\n      if (_this.props.scene) {\n        return;\n      }\n\n      _this.props.add();\n    };\n\n    return _this;\n  }\n\n  var __proto = HeaderArea.prototype;\n\n  __proto.render = function () {\n    var _a = this.props,\n        axes = _a.axes,\n        timelineInfo = _a.timelineInfo,\n        maxTime = _a.maxTime,\n        maxDuration = _a.maxDuration,\n        zoom = _a.zoom,\n        move = _a.move;\n    return createElement(\"div\", {\n      className: prefix(\"header-area\")\n    }, createElement(\"div\", {\n      className: prefix(\"properties-area\")\n    }, createElement(\"div\", {\n      className: prefix(\"property\")\n    }, \"Name\")), createElement(\"div\", {\n      className: prefix(\"values-area\")\n    }, createElement(\"div\", {\n      className: prefix(\"value\")\n    }, createElement(\"div\", {\n      className: prefix(\"add\"),\n      onClick: this.add\n    }, \"+\"))), createElement(KeytimesArea, {\n      ref: ref(this, \"keytimesArea\"),\n      move: move,\n      axes: axes,\n      timelineInfo: timelineInfo,\n      maxDuration: maxDuration,\n      maxTime: maxTime,\n      zoom: zoom\n    }));\n  };\n\n  return HeaderArea;\n}(ElementComponent);\n\nvar Keyframe =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(Keyframe, _super);\n\n  function Keyframe() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  var __proto = Keyframe.prototype;\n\n  __proto.render = function () {\n    var _a = this.props,\n        time = _a.time,\n        value = _a.value,\n        maxTime = _a.maxTime,\n        selected = _a.selected;\n    return createElement(\"div\", {\n      className: prefix(\"keyframe\" + (selected ? \" select\" : \"\")),\n      \"data-time\": time,\n      style: {\n        left: time / maxTime * 100 + \"%\"\n      }\n    }, time, \" \", value);\n  };\n\n  return Keyframe;\n}(ElementComponent);\n\nvar KeyframeGroup =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(KeyframeGroup, _super);\n\n  function KeyframeGroup() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  var __proto = KeyframeGroup.prototype;\n\n  __proto.render = function () {\n    var _a = this.props,\n        time = _a.time,\n        nextTime = _a.nextTime,\n        maxTime = _a.maxTime,\n        selected = _a.selected;\n    return createElement(\"div\", {\n      className: prefix(\"keyframe-group\" + (selected ? \" select\" : \"\")),\n      \"data-time\": time,\n      style: {\n        left: time / maxTime * 100 + \"%\",\n        width: (nextTime - time) / maxTime * 100 + \"%\"\n      }\n    });\n  };\n\n  return KeyframeGroup;\n}(Component);\n\nvar KeyframeDelay =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(KeyframeDelay, _super);\n\n  function KeyframeDelay() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  var __proto = KeyframeDelay.prototype;\n\n  __proto.render = function () {\n    var _a = this.props,\n        time = _a.time,\n        nextTime = _a.nextTime,\n        maxTime = _a.maxTime;\n    return createElement(\"div\", {\n      className: prefix(\"keyframe-delay\"),\n      style: {\n        left: time / maxTime * 100 + \"%\",\n        width: (nextTime - time) / maxTime * 100 + \"%\"\n      }\n    });\n  };\n\n  return KeyframeDelay;\n}(Component);\n\nvar KeyframeLine =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(KeyframeLine, _super);\n\n  function KeyframeLine() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  var __proto = KeyframeLine.prototype;\n\n  __proto.render = function () {\n    var _a = this.props,\n        time = _a.time,\n        nextTime = _a.nextTime,\n        maxTime = _a.maxTime;\n    return createElement(\"div\", {\n      className: prefix(\"keyframe-line\"),\n      style: {\n        left: time / maxTime * 100 + \"%\",\n        width: (nextTime - time) / maxTime * 100 + \"%\"\n      }\n    });\n  };\n\n  return KeyframeLine;\n}(Component);\n\nvar Keyframes =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(Keyframes, _super);\n\n  function Keyframes() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  var __proto = Keyframes.prototype;\n\n  __proto.render = function () {\n    var _a = this.props,\n        id = _a.id,\n        propertiesInfo = _a.propertiesInfo,\n        selected = _a.selected,\n        folded = _a.folded;\n    return createElement(\"div\", {\n      className: prefix(\"keyframes\" + (folded === 1 ? \" fold\" : \"\") + (selected ? \" select\" : \"\")),\n      \"data-item\": propertiesInfo.isItem ? \"1\" : \"0\",\n      \"data-id\": id\n    }, createElement(\"div\", {\n      className: prefix(\"keyframes-container\")\n    }, this.renderList()));\n  };\n\n  __proto.renderList = function () {\n    var _a = this.props,\n        propertiesInfo = _a.propertiesInfo,\n        maxTime = _a.maxTime,\n        selected = _a.selected,\n        selectedTime = _a.selectedTime;\n    var item = propertiesInfo.item,\n        frames = propertiesInfo.frames,\n        properties = propertiesInfo.properties;\n    var isItScene = isScene(item);\n    var duration = item.getDuration();\n    var keyframes = [];\n    var keyframeGroups = [];\n    var keyframeDelays = [];\n    var keyframeLines = [];\n    var length = frames.length;\n    var hasProperties = properties.length;\n    var startIndex = 0;\n\n    if (length >= 2 && !hasProperties) {\n      var index = findIndex(frames, function (_a) {\n        var value = _a[2];\n        return !isUndefined(value);\n      });\n      startIndex = Math.min(length - 2, Math.max(frames[0][1] === 0 && frames[1][1] === 0 ? 1 : 0, index));\n      var startFrame = frames[startIndex];\n      var endFrame = frames[length - 1];\n      var time = startFrame[0];\n      var nextTime = endFrame[0];\n      keyframeGroups.push(createElement(KeyframeGroup, {\n        key: \"group\",\n        id: time + \",\" + nextTime,\n        selected: selected && time <= selectedTime && selectedTime <= nextTime,\n        time: time,\n        nextTime: nextTime,\n        maxTime: maxTime\n      }));\n    }\n\n    frames.forEach(function (_a, i) {\n      var time = _a[0],\n          iterationTime = _a[1],\n          value = _a[2];\n      var valueText = toValue(value);\n\n      if (frames[i + 1]) {\n        var _b = frames[i + 1],\n            nextTime = _b[0],\n            nextIterationTime = _b[1];\n\n        if (iterationTime === 0 && nextIterationTime === 0 || iterationTime === duration && nextIterationTime === duration) {\n          keyframeDelays.push(createElement(KeyframeDelay, {\n            key: \"delay\" + time + \",\" + nextTime,\n            id: \"-1\",\n            time: time,\n            nextTime: nextTime,\n            maxTime: maxTime\n          }));\n        }\n      }\n\n      if (i === 0 && time === 0 && iterationTime === 0 && isUndefined(value) && !hasProperties) {\n        return;\n      }\n\n      if (frames[i + 1]) {\n        var _c = frames[i + 1],\n            nextTime = _c[0],\n            nextValue = _c[2];\n        var nextValueText = toValue(nextValue);\n\n        if (!isItScene && !isUndefined(value) && !isUndefined(nextValue) && valueText !== nextValueText && hasProperties) {\n          keyframeLines.push(createElement(KeyframeLine, {\n            key: \"line\" + keyframeLines.length,\n            time: time,\n            id: time + \",\" + nextTime,\n            nextTime: nextTime,\n            maxTime: maxTime\n          }));\n        }\n      }\n\n      if (isItScene || i < startIndex) {\n        return;\n      }\n\n      keyframes.push(createElement(Keyframe, {\n        key: \"keyframe\" + i,\n        id: \"\" + time,\n        selected: selected && time === selectedTime,\n        time: time,\n        iterationTime: iterationTime,\n        value: valueText,\n        maxTime: maxTime\n      }));\n    });\n    return keyframeGroups.concat(keyframes, keyframeDelays, keyframeLines);\n  };\n\n  return Keyframes;\n}(ElementComponent);\n\nvar LineArea = (function (_a) {\n  var maxTime = _a.maxTime;\n  var lines = [];\n\n  for (var time = 0; time <= maxTime; ++time) {\n    lines.push(createElement(\"div\", {\n      className: prefix(\"division-line\"),\n      key: time,\n      style: {\n        left: 100 / maxTime * time + \"%\"\n      }\n    }));\n  }\n\n  return createElement(\"div\", {\n    className: prefix(\"line-area\")\n  }, lines);\n});\n\nvar KeyframesArea =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(KeyframesArea, _super);\n\n  function KeyframesArea() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.keyframesList = [];\n    _this.state = {\n      foldedInfo: {}\n    };\n    return _this;\n  }\n\n  var __proto = KeyframesArea.prototype;\n\n  __proto.render = function () {\n    var _a = this.props,\n        timelineInfo = _a.timelineInfo,\n        maxTime = _a.maxTime,\n        maxDuration = _a.maxDuration,\n        zoom = _a.zoom,\n        selectedProperty = _a.selectedProperty,\n        selectedTime = _a.selectedTime;\n    var foldedInfo = this.state.foldedInfo;\n    var width = Math.min(maxDuration ? maxTime / maxDuration : 1, 2);\n    var keyframesList = [];\n    this.keyframesList = [];\n\n    for (var key in timelineInfo) {\n      var propertiesInfo = timelineInfo[key];\n      var selected = key === selectedProperty;\n      var folded = checkFolded(foldedInfo, propertiesInfo.keys);\n      keyframesList.push(createElement(Keyframes, {\n        ref: refs(this, \"keyframesList\", keyframesList.length),\n        selected: selected,\n        folded: folded,\n        selectedTime: selectedTime,\n        key: key,\n        id: key,\n        propertiesInfo: propertiesInfo,\n        maxTime: maxTime\n      }));\n    }\n\n    return createElement(\"div\", {\n      className: prefix(\"keyframes-area\")\n    }, createElement(\"div\", {\n      className: prefix(\"keyframes-scroll-area\"),\n      ref: ref(this, \"scrollAreaElement\"),\n      style: {\n        minWidth: 50 * maxTime + \"px\",\n        width: width * zoom * 100 + \"%\"\n      }\n    }, keyframesList.concat([createElement(KeyframeCursor, {\n      key: \"cursor\",\n      ref: ref(this, \"cursor\")\n    }), createElement(LineArea, {\n      maxTime: maxTime,\n      key: \"lines\"\n    })])));\n  };\n\n  __proto.componentDidMount = function () {\n    var _this = this;\n\n    addEvent(this.getElement(), \"wheel\", function (e) {\n      if (!_this.props.keycon.altKey) {\n        return;\n      }\n\n      e.preventDefault();\n      var delta = e.deltaY;\n\n      _this.props.axes.setBy({\n        zoom: delta / 5000\n      });\n    });\n  };\n\n  return KeyframesArea;\n}(ElementComponent);\n\nvar Property =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(Property, _super);\n\n  function Property() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  var __proto = Property.prototype;\n\n  __proto.render = function () {\n    var _a = this.props,\n        id = _a.id,\n        selected = _a.selected,\n        folded = _a.folded,\n        _b = _a.propertiesInfo,\n        propertyNames = _b.keys,\n        isItem = _b.isItem,\n        isParent = _b.isParent;\n    var length = propertyNames.length;\n    var name = propertyNames[length - 1];\n    return createElement(\"div\", {\n      className: prefix(\"property\" + (folded === 1 ? \" fold\" : \"\") + (selected ? \" select\" : \"\")),\n      \"data-id\": id,\n      \"data-name\": name,\n      \"data-object\": isParent ? 1 : 0,\n      \"data-item\": isItem ? 1 : 0,\n      \"data-fold\": folded === 2 ? 1 : 0,\n      style: {\n        paddingLeft: 10 + (length - 1) * 20 + \"px\"\n      }\n    }, createElement(\"div\", {\n      className: prefix(\"arrow\")\n    }), createElement(\"span\", null, name), createElement(\"div\", {\n      className: prefix(\"remove\")\n    }));\n  };\n\n  return Property;\n}(ElementComponent);\n\nvar PropertiesArea =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(PropertiesArea, _super);\n\n  function PropertiesArea() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.properties = [];\n    _this.state = {\n      foldedInfo: {}\n    };\n    return _this;\n  }\n\n  var __proto = PropertiesArea.prototype;\n\n  __proto.render = function () {\n    var _a = this.props,\n        timelineInfo = _a.timelineInfo,\n        selectedProperty = _a.selectedProperty;\n    var foldedInfo = this.state.foldedInfo;\n    var properties = [];\n    this.properties = [];\n\n    for (var id in timelineInfo) {\n      var propertiesInfo = timelineInfo[id];\n      var selected = selectedProperty === id;\n      var folded = checkFolded(foldedInfo, propertiesInfo.keys);\n      properties.push(createElement(Property, {\n        ref: refs(this, \"properties\", properties.length),\n        selected: selected,\n        folded: folded,\n        key: id,\n        id: id,\n        propertiesInfo: propertiesInfo\n      }));\n    }\n\n    return createElement(\"div\", {\n      className: prefix(\"properties-area\")\n    }, createElement(\"div\", {\n      className: prefix(\"properties-scroll-area\")\n    }, properties));\n  };\n\n  return PropertiesArea;\n}(ElementComponent);\n\nvar Value =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(Value, _super);\n\n  function Value() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.add = function () {\n      var _a = _this.props,\n          add = _a.add,\n          _b = _a.propertiesInfo,\n          item = _b.item,\n          properties = _b.properties;\n      add(item, properties);\n    };\n\n    return _this;\n  }\n\n  var __proto = Value.prototype;\n\n  __proto.render = function () {\n    var _a = this.props,\n        id = _a.id,\n        selected = _a.selected,\n        folded = _a.folded,\n        _b = _a.propertiesInfo,\n        isItem = _b.isItem,\n        isParent = _b.isParent;\n    return createElement(\"div\", {\n      className: prefix(\"value\" + (folded === 1 ? \" fold\" : \"\") + (selected ? \" select\" : \"\")),\n      \"data-id\": id,\n      \"data-object\": isParent ? 1 : 0,\n      \"data-item\": isItem ? 1 : 0\n    }, this.renderValue());\n  };\n\n  __proto.renderValue = function () {\n    var isParent = this.props.propertiesInfo.isParent;\n\n    if (isParent) {\n      return createElement(\"div\", {\n        className: prefix(\"add\"),\n        onClick: this.add\n      }, \"+\");\n    } else {\n      return createElement(\"input\", {\n        ref: ref(this, \"inputElement\")\n      });\n    }\n  };\n\n  return Value;\n}(ElementComponent);\n\nvar ValuesArea =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(ValuesArea, _super);\n\n  function ValuesArea() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.values = [];\n    _this.state = {\n      foldedInfo: {}\n    };\n    return _this;\n  }\n\n  var __proto = ValuesArea.prototype;\n\n  __proto.render = function () {\n    var _a = this.props,\n        timelineInfo = _a.timelineInfo,\n        selectedProperty = _a.selectedProperty,\n        add = _a.add;\n    var foldedInfo = this.state.foldedInfo;\n    var values = [];\n    this.values = [];\n\n    for (var id in timelineInfo) {\n      var propertiesInfo = timelineInfo[id];\n      var selected = selectedProperty === id;\n      var folded = checkFolded(foldedInfo, propertiesInfo.keys);\n      values.push(createElement(Value, {\n        ref: refs(this, \"values\", values.length),\n        add: add,\n        key: id,\n        folded: folded,\n        selected: selected,\n        id: id,\n        propertiesInfo: propertiesInfo\n      }));\n    }\n\n    return createElement(\"div\", {\n      className: prefix(\"values-area\")\n    }, values);\n  };\n\n  __proto.componentDidMount = function () {\n    var _this = this;\n\n    var element = this.getElement();\n    var dragTarget;\n    var dragTargetValue;\n    element.addEventListener(\"focusout\", function (e) {\n      _this.props.setTime();\n    });\n    drag(element, {\n      container: window,\n      dragstart: function (e) {\n        dragTarget = e.inputEvent.target;\n        dragTargetValue = dragTarget.value;\n\n        if (!_this.props.keycon.altKey || !getTarget(dragTarget, function (el) {\n          return el.nodeName === \"INPUT\";\n        })) {\n          return false;\n        }\n      },\n      drag: function (e) {\n        var nextValue = dragTargetValue.replace(/-?\\d+/g, function (num) {\n          return \"\" + (parseFloat(num) + Math.round(e.distX / 2));\n        });\n        dragTarget.value = nextValue;\n      },\n      dragend: function (e) {\n        _this.edit(dragTarget, dragTarget.value);\n      }\n    });\n    new KeyController(element).keydown(function (e) {\n      !e.isToggle && e.inputEvent.stopPropagation();\n    }).keyup(function (e) {\n      !e.isToggle && e.inputEvent.stopPropagation();\n    }).keyup(\"enter\", function (e) {\n      var target = e.inputEvent.target;\n\n      _this.edit(target, target.value);\n    }).keyup(\"esc\", function (e) {\n      var target = e.inputEvent.target;\n      target.blur();\n    });\n  };\n\n  __proto.edit = function (target, value) {\n    var parentEl = getTarget(target, function (el) {\n      return hasClass(el, \"value\");\n    });\n\n    if (!parentEl) {\n      return;\n    }\n\n    console.log(target, value);\n    var index = findIndex(this.values, function (v) {\n      return v.getElement() === parentEl;\n    });\n\n    if (index === -1) {\n      return;\n    }\n\n    this.props.editKeyframe(index, value);\n  };\n\n  return ValuesArea;\n}(ElementComponent);\n\nvar ScrollArea =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(ScrollArea, _super);\n\n  function ScrollArea() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  var __proto = ScrollArea.prototype;\n\n  __proto.render = function () {\n    var _a = this.props,\n        axes = _a.axes,\n        keycon = _a.keycon,\n        zoom = _a.zoom,\n        maxDuration = _a.maxDuration,\n        maxTime = _a.maxTime,\n        timelineInfo = _a.timelineInfo,\n        selectedProperty = _a.selectedProperty,\n        selectedTime = _a.selectedTime,\n        add = _a.add,\n        setTime = _a.setTime,\n        editKeyframe = _a.editKeyframe;\n    return createElement(\"div\", {\n      className: prefix(\"scroll-area\")\n    }, createElement(PropertiesArea, {\n      ref: ref(this, \"propertiesArea\"),\n      timelineInfo: timelineInfo,\n      selectedProperty: selectedProperty\n    }), createElement(ValuesArea, {\n      ref: ref(this, \"valuesArea\"),\n      add: add,\n      keycon: keycon,\n      setTime: setTime,\n      editKeyframe: editKeyframe,\n      timelineInfo: timelineInfo,\n      selectedProperty: selectedProperty\n    }), createElement(KeyframesArea, {\n      ref: ref(this, \"keyframesArea\"),\n      axes: axes,\n      keycon: keycon,\n      zoom: zoom,\n      maxDuration: maxDuration,\n      timelineInfo: timelineInfo,\n      maxTime: maxTime,\n      selectedProperty: selectedProperty,\n      selectedTime: selectedTime\n    }));\n  };\n\n  __proto.componentDidMount = function () {\n    this.initClickProperty();\n    this.foldAll();\n  };\n\n  __proto.foldAll = function () {\n    var _this = this; // fold all\n\n\n    this.propertiesArea.properties.forEach(function (property, i) {\n      var _a = property.props.propertiesInfo,\n          keys = _a.keys,\n          isParent = _a.isParent;\n\n      if (keys.length === 1 && isParent) {\n        _this.fold(i);\n      }\n    });\n  };\n\n  __proto.fold = function (index, isNotUpdate) {\n    var selectedProperty = this.propertiesArea.properties[index];\n    var foldedId = selectedProperty.props.id;\n    fold(this.propertiesArea, foldedId, isNotUpdate);\n    fold(this.valuesArea, foldedId, isNotUpdate);\n    fold(this.keyframesArea, foldedId, isNotUpdate);\n  };\n\n  __proto.removeProperty = function (propertiesInfo) {\n    var key = propertiesInfo.key,\n        isItem = propertiesInfo.isItem,\n        parentItem = propertiesInfo.parentItem,\n        targetItem = propertiesInfo.item,\n        properties = propertiesInfo.properties;\n\n    if (isItem) {\n      var targetName_1 = null;\n      parentItem.forEach(function (item, name) {\n        if (item === targetItem) {\n          targetName_1 = name;\n          return;\n        }\n      });\n\n      if (targetName_1 != null) {\n        parentItem.removeItem(targetName_1);\n      }\n    } else {\n      var times = targetItem.times;\n      times.forEach(function (time) {\n        var _a;\n\n        (_a = targetItem).remove.apply(_a, [time].concat(properties));\n      });\n    }\n\n    if (this.props.selectedProperty === key) {\n      this.props.select(\"\", -1, true);\n    }\n\n    this.props.update();\n  };\n\n  __proto.initClickProperty = function () {\n    var _this = this;\n\n    this.propertiesArea.getElement().addEventListener(\"click\", function (e) {\n      var isClickArrow = getTarget(e.target, function (el) {\n        return hasClass(el, \"arrow\");\n      });\n      var isClickRemove = getTarget(e.target, function (el) {\n        return hasClass(el, \"remove\");\n      });\n      var target = getTarget(e.target, function (el) {\n        return hasClass(el, \"property\");\n      });\n\n      if (!target) {\n        return;\n      }\n\n      var properties = _this.propertiesArea.properties;\n\n      var index = _this.propertiesArea.properties.map(function (property) {\n        return property.getElement();\n      }).indexOf(target);\n\n      if (index === -1) {\n        return;\n      }\n\n      var selectedProperty = properties[index];\n\n      if (isClickRemove) {\n        _this.removeProperty(selectedProperty.props.propertiesInfo);\n      } else {\n        _this.props.select(selectedProperty.props.id);\n\n        if (isClickArrow) {\n          _this.fold(index);\n        }\n      }\n    });\n  };\n\n  return ScrollArea;\n}(ElementComponent);\n\nvar prevTime = 0;\nvar prevX = -1;\nvar prevY = -1;\nfunction dblCheck(isDrag, e, clientX, clientY, callback) {\n  var currentTime = now();\n\n  if (!isDrag) {\n    if (prevX === clientX && prevY === clientY && currentTime - prevTime <= 500) {\n      callback(e, clientX, clientY);\n    }\n\n    prevX = clientX;\n    prevY = clientY;\n    prevTime = currentTime;\n  }\n}\n\nvar MAXIMUM = 1000000;\nfunction toFixed(num) {\n  return Math.round(num * MAXIMUM) / MAXIMUM;\n}\nfunction addEntry(entries, time, keytime) {\n  var prevEntry = entries[entries.length - 1];\n  (!prevEntry || prevEntry[0] !== time || prevEntry[1] !== keytime) && entries.push([toFixed(time), toFixed(keytime)]);\n}\nfunction dotNumber(a1, a2, b1, b2) {\n  return (a1 * b2 + a2 * b1) / (b1 + b2);\n}\nfunction getEntries(times, states) {\n  if (!times.length) {\n    return [];\n  }\n\n  var entries = times.map(function (time) {\n    return [time, time];\n  });\n  var nextEntries = [];\n  var firstEntry = entries[0];\n\n  if (firstEntry[0] !== 0 && states[states.length - 1][DELAY]) {\n    entries.unshift([0, 0]);\n  }\n\n  states.forEach(function (state) {\n    var iterationCount = state[ITERATION_COUNT];\n    var delay = state[DELAY];\n    var playSpeed = state[PLAY_SPEED];\n    var direction = state[DIRECTION];\n    var intCount = Math.ceil(iterationCount);\n    var currentDuration = entries[entries.length - 1][0];\n    var length = entries.length;\n    var lastTime = currentDuration * iterationCount;\n\n    for (var i = 0; i < intCount; ++i) {\n      var isReverse = direction === REVERSE || direction === ALTERNATE && i % 2 || direction === ALTERNATE_REVERSE && !(i % 2);\n\n      for (var j = 0; j < length; ++j) {\n        var entry = entries[isReverse ? length - j - 1 : j];\n        var time = entry[1];\n        var currentTime = currentDuration * i + (isReverse ? currentDuration - entry[0] : entry[0]);\n        var prevEntry = entries[isReverse ? length - j : j - 1];\n\n        if (currentTime > lastTime) {\n          if (j !== 0) {\n            var prevTime = currentDuration * i + (isReverse ? currentDuration - prevEntry[0] : prevEntry[0]);\n            var divideTime = dotNumber(prevEntry[1], time, lastTime - prevTime, currentTime - lastTime);\n            addEntry(nextEntries, (delay + currentDuration * iterationCount) / playSpeed, divideTime);\n          }\n\n          break;\n        } else if (currentTime === lastTime && nextEntries.length && nextEntries[nextEntries.length - 1][0] === lastTime + delay) {\n          break;\n        }\n\n        addEntry(nextEntries, (delay + currentTime) / playSpeed, time);\n      }\n    } // delay time\n\n\n    delay && nextEntries.unshift([0, nextEntries[0][1]]);\n    entries = nextEntries;\n    nextEntries = [];\n  });\n  return entries;\n}\nfunction getItemInfo(timelineInfo, items, names, item) {\n  item.update();\n  var times = item.times.slice();\n  var originalDuration = item.getDuration();\n  !item.getFrame(0) && times.unshift(0);\n  !item.getFrame(originalDuration) && times.push(originalDuration);\n  var states = items.slice(1).map(function (animator) {\n    return animator.state;\n  }).reverse();\n  var entries = getEntries(times, states);\n  var parentItem = items[items.length - 2];\n\n  (function getPropertyInfo(itemNames) {\n    var properties = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      properties[_i - 1] = arguments[_i];\n    }\n\n    var frames = [];\n    var isParent = isObject(itemNames);\n    var isItem = properties.length === 0;\n    entries.forEach(function (_a) {\n      var time = _a[0],\n          iterationTime = _a[1];\n      var value = item.get.apply(item, [iterationTime].concat(properties));\n\n      if (isUndefined(value) && properties.length) {\n        return;\n      }\n\n      frames.push([time, iterationTime, value]);\n    });\n    var keys = names.concat(properties);\n    var key = keys.join(\"///\");\n\n    if (key) {\n      timelineInfo[key] = {\n        key: key,\n        keys: keys,\n        parentItem: parentItem,\n        isParent: isParent,\n        isItem: isItem,\n        item: item,\n        names: names,\n        properties: properties,\n        frames: frames\n      };\n    }\n\n    if (isParent) {\n      for (var property in itemNames) {\n        getPropertyInfo.apply(void 0, [itemNames[property]].concat(properties, [property]));\n      }\n    }\n  })(item.names);\n}\nfunction getTimelineInfo(scene) {\n  var timelineInfo = {};\n\n  (function sceneForEach() {\n    var items = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      items[_i] = arguments[_i];\n    }\n\n    var length = items.length;\n    var lastItem = items[length - 1];\n    var names = items.slice(1).map(function (item) {\n      return item.getId();\n    });\n\n    if (isScene(lastItem)) {\n      if (names.length) {\n        var key = names.join(\"///\");\n        var times = [0, lastItem.getDuration()];\n        var entries = getEntries(times, items.slice(1).map(function (animator) {\n          return animator.state;\n        }).reverse());\n        var frames_1 = [];\n        entries.forEach(function (_a) {\n          var time = _a[0],\n              iterationTime = _a[1];\n          frames_1.push([time, iterationTime, iterationTime]);\n        });\n        timelineInfo[key] = {\n          key: key,\n          keys: names,\n          isItem: true,\n          isParent: true,\n          parentItem: items[length - 2],\n          item: lastItem,\n          names: [],\n          properties: [],\n          frames: frames_1\n        };\n      }\n\n      lastItem.forEach(function (item) {\n        sceneForEach.apply(void 0, items.concat([item]));\n      });\n    } else {\n      getItemInfo(timelineInfo, items, names, lastItem);\n    }\n  })(scene);\n\n  return timelineInfo;\n}\n\nvar isExportCSS = false;\n\nvar Timeline =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(Timeline, _super);\n\n  function Timeline(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.state = {\n      alt: false,\n      zoom: 1,\n      maxDuration: 0,\n      maxTime: 0,\n      timelineInfo: {},\n      selectedProperty: \"\",\n      selectedTime: -1,\n      init: false\n    };\n    _this.isExportCSS = false;\n\n    _this.update = function (isInit) {\n      if (isInit === void 0) {\n        isInit = false;\n      }\n\n      var scene = _this.props.scene;\n\n      if (!scene) {\n        return;\n      }\n\n      var maxDuration = Math.ceil(scene.getDuration());\n      var maxTime = Math.max(_this.state.maxTime, maxDuration);\n      var currentMaxTime = _this.state.maxTime;\n\n      var zoom = _this.axes.get([\"zoom\"]).zoom;\n\n      var nextZoomScale = currentMaxTime > 1 ? maxTime / currentMaxTime : 1;\n      var nextZoom = Math.max(1, zoom * nextZoomScale);\n\n      _this.setState({\n        timelineInfo: getTimelineInfo(scene),\n        maxTime: maxTime,\n        maxDuration: maxDuration,\n        init: isInit\n      });\n\n      _this.axes.axm.set({\n        zoom: nextZoom\n      });\n    };\n\n    _this.prev = function () {\n      var scene = _this.props.scene;\n      scene && _this.setTime(scene.getTime() - 0.05);\n    };\n\n    _this.next = function () {\n      var scene = _this.props.scene;\n      scene && _this.setTime(scene.getTime() + 0.05);\n    };\n\n    _this.finish = function () {\n      var scene = _this.props.scene;\n      scene && scene.finish();\n    };\n\n    _this.togglePlay = function () {\n      var scene = _this.props.scene;\n\n      if (!scene) {\n        return;\n      }\n\n      if (scene.getPlayState() === \"running\") {\n        scene.pause();\n      } else {\n        scene.play();\n      }\n    };\n\n    _this.add = function (item, properties) {\n      if (item === void 0) {\n        item = _this.props.scene;\n      }\n\n      if (properties === void 0) {\n        properties = [];\n      }\n\n      if (isScene(item)) {\n        _this.newItem(item);\n      } else {\n        _this.newProperty(item, properties);\n      }\n    };\n\n    _this.getDistTime = function (distX, rect) {\n      if (rect === void 0) {\n        rect = _this.scrollArea.keyframesArea.scrollAreaElement.getBoundingClientRect();\n      }\n\n      var scrollAreaWidth = rect.width - 30;\n      var percentage = Math.min(scrollAreaWidth, distX) / scrollAreaWidth;\n      var time = _this.state.maxTime * percentage;\n      return Math.round(time * 20) / 20;\n    };\n\n    _this.setTime = function (time) {\n      var scene = _this.props.scene;\n\n      if (!scene) {\n        return;\n      }\n\n      var direction = scene.getDirection();\n      scene.pause();\n\n      if (isUndefined(time)) {\n        time = scene.getTime();\n      }\n\n      if (direction === \"normal\" || direction === \"alternate\") {\n        scene.setTime(time);\n      } else {\n        scene.setTime(scene.getDuration() - time);\n      }\n    };\n\n    _this.getTime = function (clientX) {\n      var rect = _this.scrollArea.keyframesArea.scrollAreaElement.getBoundingClientRect();\n\n      var scrollAreaX = rect.left + 15;\n      var x = Math.max(clientX - scrollAreaX, 0);\n      return _this.getDistTime(x, rect);\n    };\n\n    _this.move = function (clientX) {\n      _this.setTime(_this.getTime(clientX));\n    };\n\n    _this.select = function (property, time, isNotUpdate) {\n      if (time === void 0) {\n        time = -1;\n      }\n\n      var scene = _this.props.scene;\n\n      if (!scene) {\n        return;\n      }\n\n      scene.pause();\n\n      if (isNotUpdate) {\n        _this.state.selectedProperty = property;\n        _this.state.selectedTime = -1;\n      } else {\n        _this.setState({\n          selectedProperty: property,\n          selectedTime: time\n        });\n      }\n    };\n\n    _this.editKeyframe = function (index, value) {\n      var propertiesInfo = _this.scrollArea.propertiesArea.properties[index].props.propertiesInfo;\n      var isObjectData = propertiesInfo.isParent;\n\n      if (isObjectData) {\n        return;\n      }\n\n      var item = propertiesInfo.item;\n      var properties = propertiesInfo.properties;\n      item.set.apply(item, [item.getIterationTime()].concat(properties, [value]));\n\n      _this.update();\n    };\n\n    _this.animate = function (e) {\n      var time = e.time;\n      var minute = numberFormat(Math.floor(time / 60), 2);\n      var second = numberFormat(Math.floor(time % 60), 2);\n      var milisecond = numberFormat(Math.floor(time % 1 * 100), 3, true);\n\n      _this.moveCursor(time);\n\n      _this.setInputs(flatObject(e.frames || e.frame.get()));\n\n      _this.controlArea.timeArea.getElement().value = minute + \":\" + second + \":\" + milisecond;\n    };\n\n    if (isExportCSS) {\n      isExportCSS = true;\n      _this.isExportCSS = true;\n    }\n\n    _this.state = __assign({}, _this.state, _this.initScene(_this.props.scene));\n    _this.keycon = new KeyController().keydown(\"alt\", function () {\n      _this.setState({\n        alt: true\n      });\n    }).keyup(\"alt\", function () {\n      _this.setState({\n        alt: false\n      });\n    });\n    _this.axes = new Axes({\n      zoom: {\n        range: [1, Infinity]\n      }\n    }, {}, {\n      zoom: 1\n    });\n    return _this;\n  }\n\n  var __proto = Timeline.prototype;\n\n  __proto.render = function () {\n    var _a = this.props,\n        scene = _a.scene,\n        className = _a.className,\n        keyboard = _a.keyboard,\n        onSelect = _a.onSelect,\n        attributes = __rest(_a, [\"scene\", \"className\", \"keyboard\", \"onSelect\"]);\n\n    var _b = this.state,\n        zoom = _b.zoom,\n        alt = _b.alt,\n        maxDuration = _b.maxDuration,\n        maxTime = _b.maxTime,\n        timelineInfo = _b.timelineInfo,\n        selectedProperty = _b.selectedProperty,\n        selectedTime = _b.selectedTime;\n    return createElement(\"div\", __assign({\n      className: prefix(\"timeline\" + (alt ? \" alt\" : \"\")) + (className ? \" \" + className : \"\")\n    }, attributes), this.renderStyle(), createElement(ControlArea, {\n      ref: ref(this, \"controlArea\"),\n      scene: scene,\n      select: this.select,\n      prev: this.prev,\n      next: this.next,\n      setTime: this.setTime,\n      togglePlay: this.togglePlay\n    }), createElement(HeaderArea, {\n      ref: ref(this, \"headerArea\"),\n      scene: scene,\n      add: this.add,\n      axes: this.axes,\n      move: this.move,\n      maxDuration: maxDuration,\n      zoom: zoom,\n      maxTime: maxTime,\n      timelineInfo: timelineInfo\n    }), createElement(ScrollArea, {\n      ref: ref(this, \"scrollArea\"),\n      add: this.add,\n      setTime: this.setTime,\n      editKeyframe: this.editKeyframe,\n      keycon: this.keycon,\n      axes: this.axes,\n      maxDuration: maxDuration,\n      zoom: zoom,\n      maxTime: maxTime,\n      update: this.update,\n      select: this.select,\n      selectedProperty: selectedProperty,\n      selectedTime: selectedTime,\n      timelineInfo: timelineInfo\n    }));\n  };\n\n  __proto.componentDidMount = function () {\n    this.initWheelZoom();\n    this.initScroll();\n    this.initDragKeyframes();\n    this.initKeyController();\n  };\n\n  __proto.componentDidUpdate = function (prevProps, prevState) {\n    if (this.props.onSelect && prevState.selectedProperty !== this.state.selectedProperty) {\n      var prevSelectedProperty = prevState.selectedProperty,\n          prevSelectedTime = prevState.selectedTime;\n      var _a = this.state,\n          selectedProperty = _a.selectedProperty,\n          selectedTime = _a.selectedTime;\n      var selectedItem = this.state.timelineInfo[selectedProperty];\n      this.props.onSelect({\n        selectedItem: !selectedProperty ? this.props.scene : selectedItem.item,\n        selectedProperty: selectedProperty,\n        selectedTime: selectedTime,\n        prevSelectedProperty: prevSelectedProperty,\n        prevSelectedTime: prevSelectedTime\n      });\n    }\n\n    if (this.state.init) {\n      this.state.init = false;\n      this.scrollArea.foldAll();\n    }\n\n    if (prevProps.scene !== this.props.scene) {\n      this.releaseScene(prevProps.scene);\n      this.setState(this.initScene(this.props.scene));\n    } else {\n      this.setTime();\n    }\n  };\n\n  __proto.renderStyle = function () {\n    if (!this.isExportCSS) {\n      return createElement(\"style\", null, CSS);\n    }\n  };\n\n  __proto.newItem = function (scene) {\n    var name = prompt(\"Add Item\");\n\n    if (!name) {\n      return;\n    }\n\n    scene.newItem(name);\n    this.update();\n  };\n\n  __proto.newProperty = function (item, properties) {\n    var property = prompt(\"Add Property\");\n\n    if (!property) {\n      return;\n    }\n\n    item.set.apply(item, [item.getIterationTime()].concat(properties, [property, \"\"]));\n    this.update();\n  };\n\n  __proto.moveCursor = function (time) {\n    var maxTime = this.state.maxTime;\n    var px = 15 - 30 * time / maxTime;\n    var percent = 100 * time / maxTime;\n    var left = \"calc(\" + percent + \"% + \" + px + \"px)\";\n    this.scrollArea.keyframesArea.cursor.getElement().style.left = left;\n    this.headerArea.keytimesArea.cursor.getElement().style.left = left;\n  };\n\n  __proto.setInputs = function (obj) {\n    var valuesArea = this.scrollArea.valuesArea.getElement();\n\n    for (var name in obj) {\n      valuesArea.querySelector(\"[data-id=\\\"\" + name + \"\\\"] input\").value = obj[name];\n    }\n  };\n\n  __proto.removeKeyframe = function (property) {\n    var propertiesInfo = this.state.timelineInfo[property];\n\n    if (!property || !propertiesInfo || isScene(propertiesInfo.item)) {\n      return;\n    }\n\n    var properties = propertiesInfo.properties;\n    var item = propertiesInfo.item;\n    item.remove.apply(item, [item.getIterationTime()].concat(properties));\n    this.update();\n  };\n\n  __proto.addKeyframe = function (index, time) {\n    var keyframesList = this.scrollArea.keyframesArea.keyframesList;\n    var id = keyframesList[index].props.id;\n    this.select(id, time);\n    var inputElement = this.scrollArea.valuesArea.values[index].inputElement;\n\n    if (inputElement) {\n      this.editKeyframe(index, inputElement.value);\n    }\n  };\n\n  __proto.initScene = function (scene) {\n    if (!scene) {\n      return {\n        timelineInfo: {},\n        maxTime: 0,\n        maxDuration: 0,\n        zoom: 1,\n        init: false\n      };\n    }\n\n    scene.finish();\n    scene.on(\"animate\", this.animate);\n    var duration = Math.ceil(scene.getDuration());\n    return {\n      timelineInfo: getTimelineInfo(scene),\n      maxTime: duration,\n      maxDuration: duration,\n      zoom: 1,\n      init: true\n    };\n  };\n\n  __proto.releaseScene = function (scene) {\n    if (!scene) {\n      return;\n    }\n\n    scene.off(\"animate\", this.animate);\n  };\n\n  __proto.initWheelZoom = function () {\n    var _this = this;\n\n    var scrollArea = this.scrollArea.getElement();\n    var axes = this.axes;\n\n    if (SUPPORT_TOUCH || SUPPORT_POINTER_EVENTS) {\n      axes.connect(\"zoom\", new PinchInput(scrollArea, {\n        scale: 0.1,\n        hammerManagerOptions: {\n          touchAction: \"auto\"\n        }\n      }));\n    }\n\n    axes.on(\"hold\", function (e) {\n      if (e.inputEvent) {\n        e.inputEvent.preventDefault();\n      }\n    });\n    axes.on(\"change\", function (e) {\n      if (e.pos.zoom === _this.state.zoom) {\n        return;\n      }\n\n      _this.setState({\n        zoom: e.pos.zoom\n      });\n\n      if (e.inputEvent) {\n        e.inputEvent.preventDefault();\n      }\n    });\n    this.axes = axes;\n  };\n\n  __proto.initScroll = function () {\n    var isScrollKeyframe = false;\n    var headerKeyframesArea = this.headerArea.keytimesArea.getElement();\n    var scrollKeyframesArea = this.scrollArea.keyframesArea.getElement();\n    headerKeyframesArea.addEventListener(\"scroll\", function () {\n      if (isScrollKeyframe) {\n        isScrollKeyframe = false;\n      } else {\n        isScrollKeyframe = true;\n        scrollKeyframesArea.scrollLeft = headerKeyframesArea.scrollLeft;\n      }\n    });\n    scrollKeyframesArea.addEventListener(\"scroll\", function () {\n      if (isScrollKeyframe) {\n        isScrollKeyframe = false;\n      } else {\n        isScrollKeyframe = true;\n        headerKeyframesArea.scrollLeft = scrollKeyframesArea.scrollLeft;\n      }\n    });\n  };\n\n  __proto.initDragKeyframes = function () {\n    var _this = this;\n\n    var click = function (e, clientX, clientY) {\n      var target = getTarget(e.target, function (el) {\n        return hasClass(el, \"keyframe\");\n      });\n      var time = target ? parseFloat(target.getAttribute(\"data-time\") || \"\") : _this.getTime(clientX);\n\n      _this.setTime(time);\n\n      var list = _this.scrollArea.keyframesArea.keyframesList;\n      var index = findElementIndexByPosition(list.map(function (keyframes) {\n        return keyframes.getElement();\n      }), clientY);\n\n      if (index > -1) {\n        _this.select(list[index].props.id, time);\n      }\n\n      e.preventDefault();\n    };\n\n    var dblclick = function (e, clientX, clientY) {\n      var list = _this.scrollArea.keyframesArea.keyframesList;\n      var index = findElementIndexByPosition(list.map(function (keyframes) {\n        return keyframes.getElement();\n      }), clientY);\n\n      if (index === -1) {\n        return;\n      }\n\n      _this.addKeyframe(index, _this.getTime(clientX));\n    };\n\n    var keytimesScrollArea = this.headerArea.keytimesArea.scrollAreaElement;\n    var keyframesScrollArea = this.scrollArea.keyframesArea.scrollAreaElement;\n    var dragItem;\n    var dragDelay = 0;\n    var dragTarget;\n    [keytimesScrollArea, keyframesScrollArea].forEach(function (element) {\n      drag(element, {\n        container: window,\n        dragstart: function (_a) {\n          var inputEvent = _a.inputEvent;\n          dragTarget = getTarget(inputEvent.target, function (el) {\n            return hasClass(el, \"keyframe-group\");\n          });\n\n          if (dragTarget) {\n            var properties = _this.scrollArea.propertiesArea.properties;\n            var keyframesElement = getTarget(dragTarget, function (el) {\n              return hasClass(el, \"keyframes\");\n            });\n            var id_1 = keyframesElement.getAttribute(\"data-id\");\n            var property = find(properties, function (p) {\n              return p.props.id === id_1;\n            });\n            var propertiesInfo = property.props.propertiesInfo;\n            dragItem = propertiesInfo.item;\n            dragDelay = dragItem.getDelay();\n          }\n        },\n        drag: function (_a) {\n          var distX = _a.distX,\n              deltaX = _a.deltaX,\n              deltaY = _a.deltaY,\n              inputEvent = _a.inputEvent;\n\n          if (dragTarget) {\n            dragItem.setDelay(Math.max(dragDelay + _this.getDistTime(distX), 0));\n\n            _this.update();\n          } else {\n            _this.scrollArea.keyframesArea.getElement().scrollLeft -= deltaX;\n            _this.scrollArea.getElement().scrollTop -= deltaY;\n            inputEvent.preventDefault();\n          }\n        },\n        dragend: function (_a) {\n          var isDrag = _a.isDrag,\n              clientX = _a.clientX,\n              clientY = _a.clientY,\n              inputEvent = _a.inputEvent;\n          dragTarget = null;\n          dragItem = null;\n          dragDelay = 0;\n          !isDrag && click(inputEvent, clientX, clientY);\n          dblCheck(isDrag, inputEvent, clientX, clientY, dblclick);\n        }\n      });\n    });\n  };\n\n  __proto.initKeyController = function () {\n    var _this = this;\n\n    window.addEventListener(\"blur\", function () {\n      _this.setState({\n        alt: false\n      });\n    }); // if (props.keyboard) {\n\n    if (this.props.keyboard) {\n      this.keycon.keydown(\"space\", function (_a) {\n        var inputEvent = _a.inputEvent;\n        inputEvent.preventDefault();\n      }).keydown(\"left\", function (e) {\n        _this.prev();\n      }).keydown(\"right\", function (e) {\n        _this.next();\n      }).keyup(\"backspace\", function () {\n        _this.removeKeyframe(_this.state.selectedProperty);\n      }).keyup(\"esc\", function () {\n        _this.finish();\n      }).keyup(\"space\", function () {\n        _this.togglePlay();\n      });\n    }\n  };\n\n  Timeline.defaultProps = {\n    keyboard: true\n  };\n  return Timeline;\n}(Component);\n\nexport default Timeline;\n//# sourceMappingURL=timeline.esm.js.map\n","import ReactTimeline from \"react-scenejs-timeline\";\nimport { h, Component } from \"preact\";\nimport { TimelineProps } from \"./types\";\n\nexport default class Timeline extends Component<TimelineProps> {\n    private timeline: any;\n    public render() {\n        return h(ReactTimeline as any, {\n            ...this.props,\n            ref: (e: any) => { this.timeline = e; },\n        });\n    }\n    public update(isInit?: boolean) {\n        this.timeline.update(isInit);\n    }\n    public prev() {\n        this.timeline.prev();\n    }\n    public next() {\n        this.timeline.next();\n    }\n    public finish() {\n        this.timeline.finish();\n    }\n    public togglePlay() {\n        this.timeline.togglePlay();\n    }\n}\n"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__rest","e","indexOf","getOwnPropertySymbols","PREFIX","SUPPORT_POINTER_EVENTS","window","SUPPORT_TOUCH","CSS2","replace","CSS","DIRECTION","ITERATION_COUNT","DELAY","PLAY_SPEED","ALTERNATE","REVERSE","ALTERNATE_REVERSE","numberFormat","num","count","isRight","arr","push","join","keys","value","name","toValue","isObject","isArray","map","k","flatObject","obj","newObj","nextObj","isFrame","get","nextName","getTarget","target","conditionCallback","parentTarget","document","body","parentNode","hasClass","className","hasClass$1","isScene","getItem","toCSS","findElementIndexByPosition","elements","pos","findIndex","el","box","getBoundingClientRect","top","bottom","height","prefix","split","ref","refs","checkFolded","foldedInfo","names","index","slice","fold","foldedProperty","isNotUpdate","id","state","setState","ElementComponent","_super","__proto","getElement","element","findDOMNode","PureComponent","TimeArea","render","createElement","componentDidMount","_this","KeyController","keydown","isToggle","inputEvent","stopPropagation","keyup","result","exec","minute","parseFloat","second","milisecond","time","props","setTime","ControlArea","isPlay","play","pause","unselect","select","onClick","prev","togglePlay","next","initScene","scene","componentDidUpdate","prevProps","releaseScene","componentWillUnmount","on","paused","off","KeyframeCursor","KeytimesArea","renderKeytimes","maxTime","keytimes","key","style","width","_a","maxDuration","zoom","minWidth","Math","min","addEvent","delta","deltaY","axes","setBy","deltaX","preventDefault","drag","cursor","dragstart","clientX","move","container","HeaderArea","add","timelineInfo","Keyframe","selected","left","KeyframeGroup","nextTime","Component","KeyframeDelay","KeyframeLine","Keyframes","propertiesInfo","folded","isItem","renderList","selectedTime","item","frames","properties","isItScene","duration","getDuration","keyframes","keyframeGroups","keyframeDelays","keyframeLines","hasProperties","startIndex","isUndefined","max","startFrame","endFrame","forEach","iterationTime","valueText","_b","nextIterationTime","_c","nextValue","nextValueText","concat","LineArea","lines","KeyframesArea","keyframesList","selectedProperty","keycon","altKey","Property","propertyNames","isParent","paddingLeft","PropertiesArea","Value","renderValue","ValuesArea","values","dragTarget","dragTargetValue","addEventListener","nodeName","round","distX","dragend","edit","blur","parentEl","console","log","v","editKeyframe","ScrollArea","initClickProperty","foldAll","propertiesArea","property","foldedId","valuesArea","keyframesArea","removeProperty","parentItem","targetItem","targetName_1","removeItem","times","remove","update","isClickArrow","isClickRemove","prevTime","prevX","prevY","dblCheck","isDrag","clientY","callback","currentTime","now","MAXIMUM","toFixed","addEntry","entries","keytime","prevEntry","dotNumber","a1","a2","b1","b2","getEntries","states","nextEntries","firstEntry","unshift","iterationCount","delay","playSpeed","direction","intCount","ceil","currentDuration","lastTime","isReverse","j","entry","divideTime","getItemInfo","items","originalDuration","getFrame","animator","reverse","getPropertyInfo","itemNames","_i","getTimelineInfo","sceneForEach","lastItem","getId","frames_1","isExportCSS","Timeline","alt","init","isInit","currentMaxTime","nextZoomScale","nextZoom","axm","set","getTime","finish","getPlayState","newItem","newProperty","getDistTime","rect","scrollArea","scrollAreaElement","scrollAreaWidth","percentage","getDirection","scrollAreaX","x","isObjectData","getIterationTime","animate","floor","moveCursor","setInputs","frame","controlArea","timeArea","Axes","range","Infinity","keyboard","onSelect","attributes","renderStyle","initWheelZoom","initScroll","initDragKeyframes","initKeyController","prevState","prevSelectedProperty","prevSelectedTime","selectedItem","prompt","px","percent","headerArea","keytimesArea","querySelector","removeKeyframe","addKeyframe","inputElement","connect","PinchInput","scale","hammerManagerOptions","touchAction","isScrollKeyframe","headerKeyframesArea","scrollKeyframesArea","scrollLeft","click","getAttribute","list","dblclick","keytimesScrollArea","keyframesScrollArea","dragItem","dragDelay","keyframesElement","id_1","find","getDelay","setDelay","scrollTop","defaultProps","tslib_1","h","ReactTimeline","timeline"],"mappings":"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"}